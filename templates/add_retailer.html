{% extends "base.html" %}
{% block content %}
<h2>Добавить продавца</h2>
<form method="POST" class="row g-3">
  <div class="col-md-6">
    <label class="form-label">Название</label>
    <input type="text" class="form-control" name="name" maxlength="30" required>
  </div>
  <div class="col-md-6">
    <label class="form-label">Сайт</label>
    <input type="url" class="form-control" name="website" maxlength="60" required placeholder="https://example.com">
  </div>
  <div class="col-md-4">
    <label class="form-label">Рейтинг</label>
    <input type="number" class="form-control" name="rating" min="0.1" max="5.0" step="0.1" required>
    <div class="form-text">От 0.1 до 5.0</div>
  </div>
  
  <input type="hidden" name="next_url" value="{{ next_url }}">
  <div class="d-flex gap-2 justify-content-end mt-2">
    <a id="back-btn" class="btn btn-outline-secondary"
      href="{{ next_url or '#' }}">Назад</a>
    <button type="submit" class="btn btn-success">Добавить</button>
  </div>
  <script>
  document.getElementById('back-btn')?.addEventListener('click', function(e){
    const href = this.getAttribute('href');
    if (!href || href === '#') { e.preventDefault(); if (document.referrer) history.back(); }
  });
  </script>

</form>
{% endblock %}
